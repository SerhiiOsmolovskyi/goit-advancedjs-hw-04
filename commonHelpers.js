import{S as h,a as g}from"./assets/vendor-dbddb547.js";import c from"https://cdn.skypack.dev/notiflix";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerpolicy&&(s.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?s.credentials="include":o.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(o){if(o.ep)return;o.ep=!0;const s=r(o);fetch(o.href,s)}})();const b="40911756-f65b6d1dd8fe00ae3d3aa7e29",L="https://pixabay.com/api/",u=document.getElementById("search-form"),f=document.querySelector(".gallery"),l=document.querySelector(".load-more");let a=1;const d=new h(".gallery a");u.addEventListener("submit",async function(t){t.preventDefault();const e=t.target.searchQuery.value.trim();if(e!==""){a=1;try{const r=await p(e,a);m(r),d.refresh()}catch(r){console.error("Error fetching images:",r)}}});l.addEventListener("click",async function(){const t=u.searchQuery.value.trim();if(t!=="")try{a++;const e=await p(t,a);m(e),d.refresh()}catch(e){console.error("Error fetching more images:",e)}});async function p(t,e){try{const r=await g.get(L,{params:{key:b,q:t,image_type:"photo",orientation:"horizontal",safesearch:!0,page:e,per_page:40}}),{hits:n,totalHits:o}=r.data;return o===0?(c.Notify.failure("Sorry, there are no images matching your search query. Please try again."),E(),[]):(c.Notify.success(`Hooray! We found ${o} images.`),y(),n)}catch(r){return console.error("Error fetching images:",r),c.Notify.failure("An error occurred while fetching images. Please try again."),[]}}function m(t){a===1&&(f.innerHTML=""),t.forEach(e=>{const r=w(e);f.appendChild(r)}),y(),v(),d.refresh()}function w(t){const e=document.createElement("div");e.classList.add("photo-card");const r=document.createElement("img");r.src=t.webformatURL,r.alt=t.tags,r.loading="lazy";const n=document.createElement("div");return n.classList.add("info"),n.innerHTML=`
        <p class="info-item"><b>Likes:</b> <span>${t.likes}</span></p>
        <p class="info-item"><b>Views:</b> <span>${t.views}</span></p>
        <p class="info-item"><b>Comments:</b> <span>${t.comments}</span></p>
        <p class="info-item"><b>Downloads:</b> <span>${t.downloads}</span></p>
    `,e.appendChild(r),e.appendChild(n),n.style.display="flex",n.style.width="25%",n.style.gap="5px",n.style.fontSize="0.6em",n.style.textAlign="center",e}function y(){l.style.display="block"}function E(){l.style.display="none"}function v(){document.querySelectorAll(".photo-card").forEach(e=>{const r=e.querySelector("img"),n=e.clientWidth;r.style.width=n+"px"})}
//# sourceMappingURL=commonHelpers.js.map
