import{S as h,a as y}from"./assets/vendor-dbddb547.js";import l from"https://cdn.skypack.dev/notiflix";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const s of e)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function o(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerpolicy&&(s.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?s.credentials="include":e.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(e){if(e.ep)return;e.ep=!0;const s=o(e);fetch(e.href,s)}})();const g="40911756-f65b6d1dd8fe00ae3d3aa7e29",b="https://pixabay.com/api/",u=document.getElementById("search-form"),f=document.querySelector(".gallery"),i=document.querySelector(".load-more");let a=1;const d=new h(".gallery a");u.addEventListener("submit",async function(r){r.preventDefault();const t=r.target.searchQuery.value.trim();if(t!==""){a=1;try{const o=await p(t,a);m(o),console.log("render"),d.refresh()}catch(o){console.error("Error fetching images:",o)}}});i.addEventListener("click",async function(){const r=u.searchQuery.value.trim();if(r!=="")try{a++;const t=await p(r,a);m(t),d.refresh()}catch(t){console.error("Error fetching more images:",t)}});async function p(r,t){try{const o=await y.get(b,{params:{key:g,q:r,image_type:"photo",orientation:"horizontal",safesearch:!0,page:t,per_page:40}}),{hits:n,totalHits:e}=o.data;return e===0?(l.Notify.failure("Sorry, there are no images matching your search query. Please try again."),E(),[]):(l.Notify.success(`Hooray! We found ${e} images.`),w(),n.length<40&&(console.log(n.length),i.style.display="none"),n)}catch(o){return console.error("Error fetching images:",o),l.Notify.failure("An error occurred while fetching images. Please try again."),[]}}function m(r){a===1&&(f.innerHTML=""),r.forEach(t=>{const o=L(t);f.appendChild(o)}),v(),d.refresh()}function L(r){const t=document.createElement("div");t.classList.add("photo-card");const o=document.createElement("img");o.src=r.webformatURL,o.alt=r.tags,o.loading="lazy";const n=document.createElement("div");n.classList.add("info"),n.innerHTML=`
        <p class="info-item"><b>Likes:</b> <span>${r.likes}</span></p>
        <p class="info-item"><b>Views:</b> <span>${r.views}</span></p>
        <p class="info-item"><b>Comments:</b> <span>${r.comments}</span></p>
        <p class="info-item"><b>Downloads:</b> <span>${r.downloads}</span></p>
    `;const e=document.createElement("a");return e.href=r.webformatURL,e.appendChild(o),t.appendChild(e),e.href=r.webformatURL,e.appendChild(o),t.appendChild(e),t.appendChild(n),n.style.display="flex",n.style.width="25%",n.style.gap="5px",n.style.fontSize="0.6em",n.style.textAlign="center",t}function w(){i.style.display="block"}function E(){i.style.display="none"}function v(){document.querySelectorAll(".photo-card").forEach(t=>{const o=t.querySelector("img"),n=t.clientWidth;o.style.width=n+"px"})}
//# sourceMappingURL=commonHelpers.js.map
